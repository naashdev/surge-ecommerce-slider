/*!
 * Surge Slider;
 * version: 1.1.0
 * http://naashdev.net
 * Copyright (c) 2016 N. Talbot; Dual licensed: MIT/GPL
 */
!function(e){var t={init:function(t,s){var i=this;i.main={$el:e(s)},i.id="surge_slider_"+Math.random().toString(16).substring(2),i.options=e.extend(e.fn.surgeSlider.options,t),preload=i.options.preload&&e.fn.imagesLoaded,transitionsSupported="transition"in document.documentElement.style||"WebkitTransition"in document.documentElement.style,load_count=0,slider_css={width:"0%",position:"relative",margin:"0",padding:"0",visibility:"visible","transition-timing-function":i.options.animation_function,"transition-duration":i.options.animation_timing+"s",transform:"translate3d(0px, 0px, 0px)"},items_css={"float":"left","list-style":"none",overflow:"hidden",position:"relative"},view_css={width:"100%",overflow:"hidden",position:"relative"},i.thumbs={$el:e(t.thumb)},i.create_slider(),i.thumbs.$el&&i.create_slider(!0),i.options.pager&&i.create_pager(),e("body").on("surge-slider-init",function(){i.bind()})},create_slider:function(t){var s=this,i=t?s.thumbs:s.main;i.$el.wrap(function(){return"<div class='surge-wrapper'><div class='surge-viewport'></div></div>"}),i.$el.attr("data-current-slide",1).css(slider_css),i.elems={$wrap:i.$el.parent().parent(),$view:i.$el.parent(),$items:i.$el.children()},i.elems.$wrap.attr("data-slider-id",s.id),e.each(i.elems.$items,function(t){preload&&e(this).find("img").css({visibility:"hidden"}),e(this).attr("data-slide",t+1)}),s.set_css(i,t),i.elems.$items.first().addClass(s.options.active_class)},create_pager:function(){var t=this;t.$pager=e(t.options.pager),e.each(t.main.elems.$items,function(s){var i=e(t.options.pager_template);t.$pager.append(i),i.data("slide",s+1),s||i.addClass(t.options.active_class)})},change_state:function(t,s){var i=this;if("undefined"==typeof s)var s=0;var n=t?t:i.main.$el.data("current-slide")+s,a=n<=i.main.elems.$items.length&&n>=1;if(a){i.main.$el.attr("data-current-slide",n).data("current-slide",n),i.options.thumb&&i.thumbs.$el.attr("data-current-slide",n).data("current-slide",n);var o=e(i.main.elems.$items).add(i.thumbs.elems.$items),r=e(i.main.$el).add(i.thumbs.$el).find('li[data-slide="'+n+'"]');o.not(r).removeClass(i.options.active_class),r.addClass(i.options.active_class);var l=i.$pager.find("."+i.options.pager_class+":nth-child("+n+")");i.$pager.find("."+i.options.pager_class).not(l).removeClass(i.options.active_class),l.addClass(i.options.active_class),i.set_position(n,i.main),i.set_position(n,i.thumbs,!0)}},set_position:function(e,t,s,i){var n=this,a=t,o=e-1,r=e>n.options.thumb_show?e-n.options.thumb_show:0,l=s?r:o;if("undefined"==typeof i)var i=!1;if(i?a.$el.css({"transition-duration":"0s"}):a.$el.css({"transition-duration":slider_css["transition-duration"]}),s)var d=e>n.options.thumb_show?(a.elems.$items.width()+n.options.thumb_gutter)*l:0;else var d=a.elems.$items.width()*l;transitionsSupported?a.$el.css({transform:"translate3d(-"+d+"px, 0px, 0px)"}):a.$el.animate({left:-d})},set_css:function(t,s){var i=this,n=t,a=n.elems.$items.find("img"),o=n.elems.$items.length,r=s?o/i.options.thumb_show:o;if(slider_css.width=100*r+15+"%",n.$el.css(slider_css),n.elems.$view.css(view_css),n.elems.$items.css(items_css),s&&i.options.thumb_gutter&&n.elems.$items.css({"margin-right":i.options.thumb_gutter}),preload){if(s)for(var l=i.options.thumb_show;l--;)n.elems.$items.eq(l).prepend('<span class="faux"></span>');else n.elems.$items.eq(0).prepend('<span class="faux"></span>');n.elems.$faux=n.elems.$wrap.find(".faux");for(var d=n.elems.$faux.length;d--;)n.elems.$items.eq(d).imagesLoaded(function(t){var o=t.images[0],r=e(o.img),l=r.closest("li");load_count++,1==load_count&&i.set_height(n,s,!0),load_count==i.options.thumb_show+1&&e("body").trigger("surge-slider-init"),a.attr("style",""),l.find(".faux").fadeOut(600,function(){e(this).remove()})})}i.set_width(n,s)},set_width:function(e,t){var s=this,i=e,n=s.options.thumb_show,a=s.options.thumb_gutter,o=i.elems.$view.width(),r=t?(o-a*(n-1))/n:o;i.elems.$items.css({width:r}),s.options.preload&&i.elems.$faux&&i.elems.$faux.css({width:r})},set_height:function(e,t,s){var i=this,n=e,a=n.elems.$items.height(),o=a/n.elems.$items.width(),r=t?i.main:i.thumbs,l=r.elems.$items.width()*o;a&&(n.elems.$view.add(n.elems.$faux).css({height:a}),s&&r.elems.$view.add(r.elems.$faux).css({height:l}))},recalc_size:function(e,t){var s=this,i=e,n=i.$el.data("current-slide");s.set_width(i,t),s.set_height(i,t),s.set_position(n,i,t,!0)},bind:function(){var t=this;t.main.$el.on("surge-slider-next",function(){t.change_state(!1,1)}),t.main.$el.on("surge-slider-prev",function(){t.change_state(!1,-1)}),t.options.thumb&&t.thumbs.elems.$items.find("a").on("click",function(s){s.preventDefault(),t.change_state(e(this).parent().data("slide"))}),t.options.pager&&t.$pager.find("a").on("click",function(s){s.preventDefault(),t.change_state(e(this).data("slide"))}),e(window).on("resize",function(){t.recalc_size(t.main),t.recalc_size(t.thumbs,!0)})}};e.fn.surgeSlider=function(e){return this.each(function(){var s=Object.create(t);s.init(e,this)})},e.fn.surgeSlider.options={animation_timing:.9,animation_function:"cubic-bezier(0.77, 0, 0.175, 1)",thumb:!1,thumb_show:4,thumb_gutter:0,pager:!1,pager_template:'<a href="#" class="pager"></a>',pager_class:"pager",active_class:"active",preload:!1}}(jQuery,window,document);