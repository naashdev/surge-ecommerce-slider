/*!
 * Surge Slider;
 * version: 1.1.0
 * http://naashdev.net
 * Copyright (c) 2016 N. Talbot; Dual licensed: MIT/GPL
 */
!function(e){var t={init:function(t,i){var s=this;s.main={$el:e(i)},s.id="surge_slider_"+Math.random().toString(16).substring(2),s.options=e.extend(e.fn.surgeSlider.options,t),lazyLoad=s.options.lazy_load&&e.fn.imagesLoaded,transitionsSupported="transition"in document.documentElement.style||"WebkitTransition"in document.documentElement.style,slider_css={width:"0%",position:"relative",margin:"0",padding:"0",visibility:"visible","transition-timing-function":s.options.animation_function,"transition-duration":s.options.animation_timing+"s",transform:"translate3d(0px, 0px, 0px)"},items_css={"float":"left","list-style":"none",overflow:"hidden",position:"relative"},view_css={width:"100%",overflow:"hidden",position:"relative"},s.thumbs={$el:e(t.thumb)},s.create_slider(),s.thumbs.$el&&s.create_slider(!0),s.options.pager&&s.create_pager(),s.bind()},create_slider:function(t){var i=this,s=t?i.thumbs:i.main;s.$el.wrap(function(){return"<div class='surge-wrapper'><div class='surge-viewport'></div></div>"}),s.$el.attr("data-current-slide",1).css(slider_css),s.elems={$wrap:s.$el.parent().parent(),$view:s.$el.parent(),$items:s.$el.children()},s.elems.$wrap.attr("data-slider-id",i.id),e.each(s.elems.$items,function(t){lazyLoad&&e(this).find("img").css({visibility:"hidden"}),e(this).attr("data-slide",t+1)}),i.set_css(s,t),s.elems.$items.first().addClass(i.options.active_class)},create_pager:function(){var t=this;t.$pager=e(t.options.pager),e.each(t.main.elems.$items,function(i){var s=e(t.options.pager_template);t.$pager.append(s),s.data("slide",i+1),i||s.addClass(t.options.active_class)})},change_state:function(t,i){var s=this;if("undefined"==typeof i)var i=0;var a=t?t:s.main.$el.data("current-slide")+i,n=a<=s.main.elems.$items.length&&a>=1;if(n){s.main.$el.attr("data-current-slide",a).data("current-slide",a),s.options.thumb&&s.thumbs.$el.attr("data-current-slide",a).data("current-slide",a);var r=e(s.main.elems.$items).add(s.thumbs.elems.$items),o=e(s.main.$el).add(s.thumbs.$el).find('li[data-slide="'+a+'"]');r.not(o).removeClass(s.options.active_class),o.addClass(s.options.active_class);var l=s.$pager.find("."+s.options.pager_class+":nth-child("+a+")");s.$pager.find("."+s.options.pager_class).not(l).removeClass(s.options.active_class),l.addClass(s.options.active_class),s.set_position(a,s.main),s.set_position(a,s.thumbs,!0)}},set_position:function(e,t,i,s){var a=this,n=t,r=e-1,o=e>a.options.thumb_show?e-a.options.thumb_show:0,l=i?o:r;if("undefined"==typeof s)var s=!1;if(s?n.$el.css({"transition-duration":"0s"}):n.$el.css({"transition-duration":slider_css["transition-duration"]}),i)var d=e>a.options.thumb_show?(n.elems.$items.width()+a.options.thumb_gutter)*l:0;else var d=n.elems.$items.width()*l;transitionsSupported?n.$el.css({transform:"translate3d(-"+d+"px, 0px, 0px)"}):n.$el.animate({left:-d})},set_css:function(t,i){var s=this,a=t,n=a.elems.$items.find("img"),r=a.elems.$items.length,o=i?r/s.options.thumb_show:r;if(slider_css.width=100*o+15+"%",a.$el.css(slider_css),a.elems.$view.css(view_css),a.elems.$items.css(items_css),i&&s.options.thumb_gutter&&a.elems.$items.css({"margin-right":s.options.thumb_gutter}),s.set_width(a,i),s.set_height(a,i),lazyLoad){if(i)for(var l=s.options.thumb_show;l--;)a.elems.$items.eq(l).prepend('<span class="faux"></span>');else a.elems.$items.eq(0).prepend('<span class="faux"></span>');for(var d=a.elems.$wrap.find(".faux"),c=d.length,m=0;c--;)a.elems.$items.eq(c).imagesLoaded(function(t){var i=t.images[0],s=e(i.img),r=s.closest("li");m++,1==m&&a.elems.$view.css({height:s.height()}),n.attr("style",""),r.find(".faux").fadeOut(600,function(){e(this).remove()})})}else s.set_height(a,i)},set_width:function(e,t){var i=this,s=e,a=i.options.thumb_show,n=i.options.thumb_gutter,r=s.elems.$view.width(),o=t?(r-n*(a-1))/a:r;s.elems.$items.css({width:o})},set_height:function(e,t){var i=e;i.elems.$view.css({height:i.elems.$items.height()})},recalc_size:function(e,t){var i=this,s=e,a=s.$el.data("current-slide");i.set_width(s,t),i.set_height(s,t),i.set_position(a,s,t,!0)},get_image_size:function(t,i){var s=e(t),a=setInterval(function(){var e=s[0].naturalWidth,t=s[0].naturalHeight;e&&t&&(clearInterval(a),i.apply(this,[e,t]))},30)},bind:function(){var t=this;t.main.$el.on("surge-slider-next",function(){t.change_state(!1,1)}),t.main.$el.on("surge-slider-prev",function(){t.change_state(!1,-1)}),t.options.thumb&&t.thumbs.elems.$items.find("a").on("click",function(i){i.preventDefault(),t.change_state(e(this).parent().data("slide"))}),t.options.pager&&t.$pager.find("a").on("click",function(i){i.preventDefault(),t.change_state(e(this).data("slide"))}),e(window).on("resize",function(){t.recalc_size(t.main),t.recalc_size(t.thumbs,!0)})}};e.fn.surgeSlider=function(e){return this.each(function(){var i=Object.create(t);i.init(e,this)})},e.fn.surgeSlider.options={animation_timing:.9,animation_function:"cubic-bezier(0.77, 0, 0.175, 1)",thumb:!1,thumb_show:4,thumb_gutter:0,pager:!1,pager_template:'<a href="#" class="pager"></a>',pager_class:"pager",active_class:"active"}}(jQuery,window,document);